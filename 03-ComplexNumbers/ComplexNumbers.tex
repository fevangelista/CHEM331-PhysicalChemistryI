% This work is licensed under the Creative Commons Attribution-NonCommercial 4.0 International License.
% To view a copy of this license, visit http://creativecommons.org/licenses/by-nc/4.0/
% or send a letter to Creative Commons, PO Box 1866, Mountain View, CA 94042, USA.

% !TEX TS-program = xelatex
%!TEX root =  ComplexNumbers_standalone.tex

\setcounter{section}{2}
\section{Complex numbers}

\subsection{Definitions}
Complex numbers are used extensively in quantum mechanics.\mnote{Complex numbers were originally introduced to deal with algebraic equations like $x^2 + 1 = 0$, which has no solution in the set of real numbers.
If we define $i = \sqrt{-1}$, then we see that $i$ solves this equation as it can be easily verified: $i^2 + 1 = (\sqrt{-1})^2 + 1 = -1 + 1 = 0$.}
A generic complex number $z$ may be written as
\begin{equation}
z = x + i y,
\end{equation}
where $x,y \in \mathbb{R}$ are real numbers and $i$ is the \textbf{imaginary unit}.
The square of the imaginary unit is
\begin{equation}
i^2 = -1.
\end{equation}
The components $x$ and $y$ of a complex number are called the \textbf{real} and \textbf{imaginary} parts of $z$.
We also define two functions, $\mathrm{Re}$ and $\mathrm{Im}$, which give the real and imaginary parts of $z$:
\begin{align}
\mathrm{Re}(z) = x \\
\mathrm{Im}(z) = y.
\end{align}

The complex conjugate of a complex number $z$ is written as $z^*$ and is given by
\begin{iequation}
z^* = (x + i y)^* = x - i y.
\end{iequation}
The modulus square of a complex number $z$ is written as $|z|^2$ and is defined as
\begin{iequation}
|z|^2 = z^* z = z z^* = (x - i y)(x + i y) = x^2 + y^2.
\end{iequation}
Note that $|z|^2$ is a real nonnegative number ($|z|^2 \geq 0$) and its square root measures the magnitude of $z$:
\begin{equation}
|z| = \sqrt{x^2 + y^2} 
\end{equation}
In contrast, the square of $z$ is a complex number with both real and imaginary parts.
\begin{equation}
z^2 = (x + i y)(x + i y) = x^2 - y^2 + 2i xy.
\end{equation}

\subsection{Polar representation of complex numbers}
Complex numbers can be written also in an equivalent form called the \textbf{polar representation}.
In the polar representation we express a complex number as a the product of a non-negative real number $r$ and an angle $\theta$
\begin{iequation}
z = r e^{i \theta}.
\end{iequation}
To relate the Cartesian $(x,y)$ and polar $(r,\theta)$ representations of a complex number we use Euler's identity
\begin{iequation}
e^{i \theta} =\cos\theta + i\sin\theta.
\end{iequation}
This is an important identity and should be memorized.
Plugging in Euler's formula in the polar representation of $z$ we get
\begin{iequation}
z = x + iy = r e^{i \theta} = r (\cos\theta + i\sin\theta) = \underbrace{r\cos\theta}_{x}
+  i \underbrace{r\sin\theta}_{y}
\end{iequation}
This shows that the Cartesian components are related to the polar ones via
\begin{align}
x = r\cos\theta \\
y = r\sin\theta.
\end{align}
From these two equations it is easy to show that the radius is given by
\begin{equation}
r = \sqrt{x^2 + y^2},
\end{equation}
and the angle $\theta$ by\mnote{Here, the right function is not really $\arctan(y/x)$ rather the function atan2$(y,x)$, which is defined for angles $\theta \in [-\pi,\pi]$. See, e.g. \url{https://en.wikipedia.org/wiki/Atan2}.}
\begin{equation}
\theta = \arctan \frac{y}{x}.
\end{equation}

Let us compute the modulus square of a complex number in polar coordinates
\begin{equation}
|z |^2 = z z^* = r e^{i \theta} \left(r e^{i \theta}\right)^* =  r e^{i \theta} r e^{-i \theta} = r^2 \underbrace{e^{i \theta} e^{-i \theta}}_{e^{i \theta-i \theta} = e^{0} = 1} = r^2.
\end{equation}
This shows that the modulus square $|z |^2$ depends only on $r$.
Note that in this derivation we used the fact that when we take the complex conjugate of $e^{i \theta}$ we change the sign of $i$ in the exponent, and this leads to a cancellation of the exponential factors.

\subsection{Differentiating complex functions}
In quantum mechanics we occasionally have to take derivatives with respect to real variables (e.g. $x$) of a complex function $f(x)$.
An example is the function $f(x) = x + i x^2 $, which has both a real and an imaginary part, or a function like $f(x) = e^{i x}$, which at first glance may not be obvious how to split into real and imaginary parts.
In both cases, the common rules of differentiation apply.
Let us consider the function $f(x) = x^2 + i x^3$. When taking its derivative with respect to $x$ we can separate the real and imaginary parts
\begin{equation}
\frac{d f(x)}{dx } = \frac{ d (x^2 + i x^3)}{dx} = \frac{ d x^2}{dx}  + i \frac{ d x^3}{dx} = 2x + i3 x^2.
\end{equation}

In the case of $e^{-i x}$ the derivative is instead obtained using the chain rule
\begin{equation}
\frac{d e^{-i x}}{dx} = - i e^{i x}.
\end{equation}
The process of differentiation can be generalized to higher derivatives. For example, the second derivative of $e^{i x}$ is 
\begin{equation}
\frac{d^2 e^{-i x}}{dx^2} = -i \frac{d e^{-i x}}{dx} = i^2 e^{i x} = - e^{i x}.
\end{equation}



%\mnote{$e^{i \theta} =\cos\theta + i\sin\theta$.}
 
%
%\subsection{The time-dependent Schr\"{o}dinger equation}
%Recall Newton's second law of motion $\mathbf{F} = m \mathbf{a}$, where $\mathbf{F}$ is the force on an object of mass $m$ and $\mathbf{a}$ is the acceleration. Rewriting the acceleration in terms of the position $\mathbf{x}$ it is clear that Newton's second law is a differential equation
%\begin{equation}
%\mathbf{F} = m \mathbf{a} = m \frac{d \mathbf{v}(t)}{dt} = m \frac{d^2 \mathbf{r}(t)}{dt^2}.
%\end{equation}
%In quantum mechanics particles behave like waves. So the fundamental equation that governs them is somewhat different from Newton's second law.
%Instead of describing the position of a particle as a function of time, in quantum mechanics we have an equation that describes the evolution of a particle probability amplitude, the so-called \textbf{wave function}.
%For a particle in one dimension the wave function is a \textbf{complex} function $\Psi(x,t)$ that depends both on the position of a particle ($x$) and time ($t$).
% The equation that governs the evolution of the wave function is the time-dependent \textbf{Schr\"{o}dinger equation}\mnote{After physicist Erwin Schr\"{o}dinger (Austria, 1887--1961).}
%\marginpar{
%\includegraphics[width=1.5in]{Figures/02_Erwin_Schrodinger.jpg}
%\captionof{figure}{Erwin Schr\"{o}dinger.}
%}
%\begin{iequation}
%i\hbar \frac{\partial \Psi(x,t)}{\partial t} = \hat{H} \Psi(x,t)
%\end{iequation}
%There are several important elements in the time-dependent Schr\"{o}dinger equation
%\begin{ibox}
%\begin{myitems}
%\item The \textbf{wave function} [$\Psi(x,t)$]. It contains all the information that we can know about a physical system.
%\item The \textbf{Hamiltonian operator} [$\hat{H}$]. Operators are mathematical objects that perform operations of function. Given an operator $\hat{O}$, when we apply it to a function $f(x)$ it returns another function $g(x)$, $\hat{O}f(x) = g(x)$.
%\item The \textbf{imaginary unit} [$i$]. 
%\item The \textbf{reduced Planck constan} [$\hbar = h / 2\pi$, pronounced ``h-bar''].
%\end{myitems}
%\end{ibox}
%
%\subsection{The wave function and its interpretation}
%In quantum mechanics we cannot know the exact position of a particle. Instead we can ask: What is the probability that a particle is at position $x$? This information is contained in the probability density, $\rho(x,t)$, which is given by the square modulus of the wave function
%\begin{iequation}
%\rho(x,t) = |\Psi(x,t)|^2 = \Psi(x,t)^* \Psi(x,t) = \text{probability density at position $x$ and time $t$},
%\end{iequation}
%where the asterisk indicates the complex conjugate.
%The probability of finding a particle in the range $[a,b]$ is given by the integral
%\begin{equation}
%P[a \leq x \leq b](t) = \int_a^b dx \, \rho(x,t) = \int_a^b dx \, |\Psi(x,t)|^2.
%\end{equation}
%Since the probability of finding a particle over all space must be one, the wave function must satisfy the condition
%\begin{iequation}
%\int_{-\infty}^{\infty} dx \, |\Psi(x,t)|^2 = 1.
%\end{iequation}
%This is called the normalization condition. When a wave function satisfies it we say that it is normalized.
%
%\subsection{The Hamiltonian operator}
%The Hamiltonian operator is connected to the total energy of a system.
%As in classical physics, where the total energy is the sum of kinetic ($T$) and potential energy ($V$), in quantum mechanics the Hamiltonian may be written as
%\begin{iequation}
%\hat{H} = \hat{T} + \hat{V},
%\end{iequation}
%where $\hat{T}$ is the kinetic energy operator
%\begin{equation}
%\hat{T} = - \frac{\hbar^2}{2 m} \frac{\partial^2}{\partial x^2},
%\end{equation}
%and $\hat{V}$ is the potential energy operator\mnote{In general, the potential could also depend on time $t$, that is, we should write $V(x,t)$. This is the case when we study how a quantum system interacts with a pulse of light. In this case, the potential has a term that accounts for the light pulse and that depends on $t$.}
%\begin{equation}
%\hat{V} = V(x).
%\end{equation}
%These operators are very different!
%The kinetic energy operator takes the second derivative of a function and multiplies it by a constant, while the potential energy operator is just the classical potential energy function.
%Note also that the kinetic energy operator should be accepted as a \textbf{fact of life} (FOL).\mnote{That is, something unpleasant that cannot be avoided.}
%Its mathematical expression can be justified but not proven, so it should be taken as a postulate of quantum mechanics.
%We will encounter several others FOLs in this course, so get used to this idea.
%
%To summarize, the Hamiltonian for a particle of mass $m$ moving in one dimension is given by
%\begin{iequation}
%\hat{H} =  - \frac{\hbar^2}{2 m} \frac{\partial^2}{\partial x^2} + V(x).
%\end{iequation}
%
%
%\subsection{The time-independent Schr\"{o}dinger equation}
%The time-dependent Schr\"{o}dinger equation tells us how the wave function of a system changes with time.
%However, when the potential experienced by a particle does not depend on time, there are solutions of the Schr\"{o}dinger equation that are stationary. These states have physical properties that are constant in time.\mnote{The analogy with classical physics is finding solutions of Newton's equation for which the position of an object is fixed.}
%To find stationary states we may try to solve the Schr\"{o}dinger equation using a wave function ansatz\mnote{A German word that stands for ``an assumption about the form of an unknown function which is made in order to facilitate solution of an equation or other problem''.} in which the we write the wave function as the product of two functions $\psi(x)$ and $f(t)$ that depend each on only one variable
%\begin{equation}
%\Psi(x,t) = \psi(x) f(t)
%\end{equation}
%If we plug this equation in the time-dependent Schr\"{o}dinger equation we get
%\begin{equation}
%i\hbar \frac{\partial \psi(x) f(t)}{\partial t} = \hat{H}\psi(x) f(t),
%\end{equation}
%and rearranging terms we find
%\begin{equation}
%i\hbar \frac{1}{f(t)}\frac{\partial f(t)}{\partial t} = \frac{\hat{H}\psi(x)}{\psi(x)}.
%\end{equation}
%Note that the the r.h.s. and l.h.s. of this equation are functions of two independent variables.
%So the only way this equation is satisfied is if both sides are equal to a constant, which we well indicated with $E$.
%Then we obtain two independent equations. From the l.h.s. we can derive an equation for the function of $t$
%\begin{equation}
%\label{eq:02:f_equation}
%i\hbar \frac{\partial f(t)}{\partial t} = E f(t).
%\end{equation}
%The solution of this differential equation is
%\begin{equation}
%\label{eq:02:f_solution}
%f(t) = f(t = 0) e^{-i E t / \hbar},
%\end{equation}
%where $f(t = 0)$ is the value of the function $f(t)$ at $t=0$.
%The quantity $e^{-i E t / \hbar}$ is a \textbf{phase factor}, a complex number of absolute value 1.
%\begin{exercise}
%Show that Eq.~\eqref{eq:02:f_solution} is a solution of Eq.~\eqref{eq:02:f_equation}.
%\end{exercise}
%
%
%From the r.h.s. we obtain an equation for the function of $x$, which is commonly known as the \textbf{time-independent} Schr\"{o}dinger equation
%\begin{iequation}
%\hat{H}\psi(x) = E \psi(x).
%\end{iequation}
%This is an eigenvalue equation. $E$ and $\psi(x)$ are called the eigenvalue and eigenfunction of $\hat{H}$, respectively.
%Putting all together, we find that the wave function is given by
%\begin{equation}
%\label{eq:02:factorize_solution}
%\Psi(x,t) = f(0) e^{-i E t / \hbar} \psi(x).
%\end{equation}
%The probability density for this wave function is independent of time
%\begin{equation}
%|\Psi(x,t)|^2 =  |f(0)|^2 |\psi(x)|^2,
%\end{equation}
%so Eq.~\eqref{eq:02:factorize_solution} is indeed a stationary wave function.
%%\begin{equation}
%%\int dx \, \Psi(x,t)^* \Psi(x,t) =  |f(0)|^2 \int dx \,   \left[e^{-i E t / \hbar} \psi(x)\right]^* e^{-i E t / \hbar} \psi(x)
%%\end{equation}
%
%We will call the eigenfunctions of the time-independent Schr\"{o}dinger equation \textbf{stationary wave functions}, or simply, wave functions.
%For now on we will be mostly concerned with stationary wave functions but we will revisit time-dependent wave functions when we consider the interaction of light with matter.
%
%\subsection{Physical vs. non-physical wave functions}
%Not all solutions of the time-independent Schr\"{o}dinger equation are acceptable.
%There are three conditions that a function must satisfy to be considered a stationary wave function of a real physical system
%\begin{ibox}
%\begin{myitems}
%\item $\psi(x)$ must be a continuous function of $x$.
%\item $\psi(x)$ must be a square-integrable function, that is,
%\begin{equation}
%\int_{-\infty}^{\infty} dx \, |\psi(x)|^2 < \infty.
%\end{equation}
%\item $\psi(x)$ must be single valued.
%\end{myitems}
%\end{ibox}






